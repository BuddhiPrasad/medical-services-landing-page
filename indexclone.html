<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medical Services, Blog, and Testimonials</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-green-50">
    <!-- Medical Services Section -->
    <section class="pt-8 pb-8">
      <div class="container mx-auto px-4 py-6 sm:py-8">
        <h1
          class="text-4xl lg:text-5xl font-semibold mb-6 text-[#00593d] text-center"
        >
          Our Medical Services
        </h1>
        <p class="text-center mb-8 sm:mb-12 max-w-xl sm:max-w-2xl mx-auto">
          Aliquam a augue suscipit, luctus neque purus ipsum neque dolor primis
          libero at tempus, blandit posuere ligula varius congue cursus porta
          feugiat
        </p>

        <div id="carousel" class="relative overflow-hidden">
          <div
            id="slideServicesN"
            class="flex flex-wrap sm:flex-nowrap gap-5 transition-transform duration-300 ease-in-out"
          >
            <!-- Cards will be dynamically inserted here -->
          </div>
        </div>

        <div
          id="dotContainerServicesN"
          class="flex justify-center mt-6 sm:mt-8"
        >
          <!-- Dots will be dynamically inserted here -->
        </div>
      </div>
    </section>

    <!-- Blog Section -->
    <section class="pt-8 pb-8">
      <div class="container mx-auto">
        <div class="flex items-center mb-6 sm:mb-8">
          <div class="w-16 h-4 bg-green-400 mr-4 rounded-r-lg"></div>
          <h1 class="text-4xl lg:text-5xl font-semibold mb-6 text-[#00593d]">
            Blog's
          </h1>
        </div>

        <div
          id="carousel"
          class="relative overflow-hidden pr-4 pl-4 lg:pr-32 lg:pl-32"
        >
          <div
            id="slideBlogN"
            class="flex flex-wrap transition-transform duration-300 ease-in-out"
          >
            <!-- Cards will be dynamically inserted here -->
          </div>
        </div>

        <div id="dotContainerBlogN" class="flex justify-center mt-6 sm:mt-8">
          <!-- Dots will be dynamically inserted here -->
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section class="pt-8 pb-8">
      <div class="container mx-auto px-4 py-16">
        <h2 class="text-4xl font-bold text-green-800 mb-12">
          <span class="inline-block w-12 h-2 bg-green-400 mr-2"></span
          >Testimonials
        </h2>

        <div
          id="testimonials-container"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pl-8 pr-8 lg:pl-32 lg:pr-32"
        >
          <!-- Testimonials will be dynamically inserted here -->
        </div>

        <div id="dots-container" class="flex justify-center mt-8">
          <!-- Dots will be dynamically inserted here -->
        </div>
      </div>
    </section>

    <script>
      // Services Script
      const services = [
        // ... (services data)
      ];

      const slideServicesN = document.getElementById("slideServicesN");
      const dotContainerServicesN = document.getElementById(
        "dotContainerServicesN"
      );
      let currentSetServicesN = 0;

      function createCard(service) {
        return `
                <div class="bg-white rounded-2xl border border-b p-5">
                    <div class="flex justify-center mb-3">
                        <img src="${service.images}" alt="${service.title}" />
                    </div>
                    <h3 class="text-center mb-3 text-[#333] font-semibold">${service.title}</h3>
                    <p class="text-center text-primary font-semibold">${service.description}</p>
                </div>
            `;
      }

      function getCardsPerSet() {
        if (window.innerWidth >= 1024) {
          return 5; // Desktop view
        } else if (window.innerWidth >= 640) {
          return 3; // Tablet view
        } else {
          return 1; // Mobile view
        }
      }

      function updateSlideServicesN() {
        const cardsPerSet = getCardsPerSet();
        const startIndex = currentSetServicesN * cardsPerSet;
        const endIndex = startIndex + cardsPerSet;
        const visibleServices = services.slice(startIndex, endIndex);
        slideServicesN.innerHTML = visibleServices.map(createCard).join("");
        updateDots(cardsPerSet);
      }

      function updateDots(cardsPerSet) {
        dotContainerServicesN.innerHTML = "";
        const totalDots = Math.ceil(services.length / cardsPerSet);
        for (let i = 0; i < totalDots; i++) {
          const dot = document.createElement("button");
          dot.className = `w-2 h-2 sm:w-3 sm:h-3 rounded-full mx-1 ${
            i === currentSetServicesN ? "bg-green-600" : "bg-green-200"
          }`;
          dot.setAttribute("aria-label", `Show set ${i + 1} of cards`);
          dot.addEventListener("click", () => {
            currentSetServicesN = i;
            updateSlideServicesN();
          });
          dotContainerServicesN.appendChild(dot);
        }
      }

      updateSlideServicesN();

      // Add swipe functionality for mobile devices
      let touchStartXN = 0;
      let touchEndXN = 0;

      slideServicesN.addEventListener(
        "touchstart",
        (e) => {
          touchStartXN = e.changedTouches[0].screenX;
        },
        false
      );

      slideServicesN.addEventListener(
        "touchend",
        (e) => {
          touchEndXN = e.changedTouches[0].screenX;
          handleSwipe();
        },
        false
      );

      function handleSwipe() {
        const cardsPerSet = getCardsPerSet();
        if (
          touchEndXN < touchStartXN &&
          currentSetServicesN < Math.ceil(services.length / cardsPerSet) - 1
        ) {
          // Swipe left
          currentSetServicesN++;
          updateSlideServicesN();
        } else if (touchEndXN > touchStartXN && currentSetServicesN > 0) {
          // Swipe right
          currentSetServicesN--;
          updateSlideServicesN();
        }
      }

      // Add resize listener to update layout on screen size changes
      window.addEventListener("resize", updateSlideServicesN);

      // Blog Script
      const blogPosts = [
        // ... (blog posts data)
      ];

      const slideBlogN = document.getElementById("slideBlogN");
      const dotContainerBlogN = document.getElementById("dotContainerBlogN");
      let currentSetBlogN = 0;

      function createBlogCard(post) {
        return `
                <div class="w-1/2 sm:w-1/2 md:w-1/4 px-2 sm:px-4 mb-4 sm:mb-8">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <img src="${post.image}" alt="Blog post" class="w-full h-32 sm:h-40 md:h-48 object-cover">
                    </div>
                </div>
            `;
      }

      function updateSlideBlogN() {
        const startIndex = currentSetBlogN * 4;
        const endIndex = startIndex + 4;
        const visiblePosts = blogPosts.slice(startIndex, endIndex);
        slideBlogN.innerHTML = visiblePosts.map(createBlogCard).join("");
        updateBlogDots();
      }

      function updateBlogDots() {
        dotContainerBlogN.innerHTML = "";
        const totalDots = Math.ceil(blogPosts.length / 4);
        for (let i = 0; i < totalDots; i++) {
          const dot = document.createElement("button");
          dot.className = `w-2 h-2 sm:w-3 sm:h-3 rounded-full mx-1 ${
            i === currentSetBlogN ? "bg-green-600" : "bg-green-200"
          }`;
          dot.setAttribute("aria-label", `Show set ${i + 1} of blog posts`);
          dot.addEventListener("click", () => {
            currentSetBlogN = i;
            updateSlideBlogN();
          });
          dotContainerBlogN.appendChild(dot);
        }
      }

      updateSlideBlogN();

      // Add swipe functionality for mobile devices
      let touchStartX = 0;
      let touchEndX = 0;

      slideBlogN.addEventListener(
        "touchstart",
        (e) => {
          touchStartX = e.changedTouches[0].screenX;
        },
        false
      );

      slideBlogN.addEventListener(
        "touchend",
        (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleBlogSwipe();
        },
        false
      );

      function handleBlogSwipe() {
        if (
          touchEndX < touchStartX &&
          currentSetBlogN < Math.ceil(blogPosts.length / 4) - 1
        ) {
          // Swipe left
          currentSetBlogN++;
          updateSlideBlogN();
        } else if (touchEndX > touchStartX && currentSetBlogN > 0) {
          // Swipe right
          currentSetBlogN--;
          updateSlideBlogN();
        }
      }

      // Testimonials Script
      const testimonials = [
        // ... (testimonials data)
      ];

      const testimonialsPerPage = 3;
      let currentPage = 0;

      function renderTestimonials() {
        const container = document.getElementById("testimonials-container");
        container.innerHTML = "";

        const startIndex = currentPage * testimonialsPerPage;
        const endIndex = startIndex + testimonialsPerPage;

        for (let i = startIndex; i < endIndex && i < testimonials.length; i++) {
          const testimonial = testimonials[i];
          const testimonialElement = document.createElement("div");
          testimonialElement.className = "bg-white rounded-lg shadow-md p-6";
          testimonialElement.innerHTML = `
                    <img src="${
                      testimonial.image
                    }" alt="Profile" class="w-20 h-20 rounded-full mx-auto mb-4">
                    <p class="text-gray-600 text-center mb-4">${
                      testimonial.content
                    }</p>
                    <div class="flex justify-center" aria-label="Rating: ${
                      testimonial.rating
                    } out of 5 stars">
                        ${Array(5)
                          .fill()
                          .map(
                            (_, index) => `
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ${
                              index < testimonial.rating
                                ? "text-yellow-400"
                                : "text-gray-300"
                            }" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                        `
                          )
                          .join("")}
                    </div>
                `;
          container.appendChild(testimonialElement);
        }
      }

      function renderDots() {
        const container = document.getElementById("dots-container");
        container.innerHTML = "";

        const pageCount = Math.ceil(testimonials.length / testimonialsPerPage);

        for (let i = 0; i < pageCount; i++) {
          const dot = document.createElement("button");
          dot.className = `h-3 w-3 mx-1 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500 ${
            currentPage === i ? "bg-green-800" : "bg-green-300"
          }`;
          dot.setAttribute("aria-label", `Go to testimonial page ${i + 1}`);
          if (currentPage === i) {
            dot.setAttribute("aria-current", "page");
          }
          dot.onclick = () => {
            currentPage = i;
            renderTestimonials();
            renderDots();
          };
          container.appendChild(dot);
        }
      }

      renderTestimonials();
      renderDots();
    </script>
  </body>
</html>
